{"ast":null,"code":"import { apiSlice } from './apiSlice';\nexport const productsApiSlice = apiSlice.injectEndpoints({\n  endpoints: builder => ({\n    getProducts: builder.query({\n      query: ({\n        keyword = '',\n        page = 1\n      }) => ({\n        url: `/api/products`,\n        params: {\n          keyword,\n          page\n        }\n      }),\n      providesTags: ['Product'],\n      keepUnusedDataFor: 5\n    }),\n    getProductDetails: builder.query({\n      query: productId => `/api/products/${productId}`,\n      providesTags: (result, error, productId) => [{\n        type: 'Product',\n        id: productId\n      }]\n    }),\n    createProduct: builder.mutation({\n      query: product => ({\n        url: '/api/products',\n        method: 'POST',\n        body: product\n      }),\n      invalidatesTags: ['Product']\n    }),\n    updateProduct: builder.mutation({\n      query: ({\n        id,\n        ...product\n      }) => ({\n        url: `/api/products/${id}`,\n        method: 'PUT',\n        body: product\n      }),\n      invalidatesTags: (result, error, {\n        id\n      }) => [{\n        type: 'Product',\n        id\n      }]\n    }),\n    deleteProduct: builder.mutation({\n      query: id => ({\n        url: `/api/products/${id}`,\n        method: 'DELETE'\n      }),\n      invalidatesTags: ['Product']\n    }),\n    createReview: builder.mutation({\n      query: ({\n        productId,\n        rating,\n        comment\n      }) => ({\n        url: `/api/products/${productId}/reviews`,\n        method: 'POST',\n        body: {\n          rating,\n          comment\n        }\n      }),\n      invalidatesTags: (result, error, {\n        productId\n      }) => [{\n        type: 'Product',\n        id: productId\n      }]\n    }),\n    getTopProducts: builder.query({\n      query: () => '/api/products/top',\n      providesTags: ['Product'],\n      keepUnusedDataFor: 5\n    })\n  })\n});\nexport const {\n  useGetProductsQuery,\n  useGetProductDetailsQuery,\n  useCreateProductMutation,\n  useUpdateProductMutation,\n  useDeleteProductMutation,\n  useCreateReviewMutation,\n  useGetTopProductsQuery\n} = productsApiSlice;","map":{"version":3,"names":["apiSlice","productsApiSlice","injectEndpoints","endpoints","builder","getProducts","query","keyword","page","url","params","providesTags","keepUnusedDataFor","getProductDetails","productId","result","error","type","id","createProduct","mutation","product","method","body","invalidatesTags","updateProduct","deleteProduct","createReview","rating","comment","getTopProducts","useGetProductsQuery","useGetProductDetailsQuery","useCreateProductMutation","useUpdateProductMutation","useDeleteProductMutation","useCreateReviewMutation","useGetTopProductsQuery"],"sources":["F:/E-COMMERCE/frontend/src/slices/productsApiSlice.js"],"sourcesContent":["import { apiSlice } from './apiSlice';\r\n\r\nexport const productsApiSlice = apiSlice.injectEndpoints({\r\n    endpoints: (builder) => ({\r\n        getProducts: builder.query({\r\n            query: ({ keyword = '', page = 1 }) => ({\r\n                url: `/api/products`,\r\n                params: { keyword, page },\r\n            }),\r\n            providesTags: ['Product'],\r\n            keepUnusedDataFor: 5,\r\n        }),\r\n        getProductDetails: builder.query({\r\n            query: (productId) => `/api/products/${productId}`,\r\n            providesTags: (result, error, productId) => [{ type: 'Product', id: productId }],\r\n        }),\r\n        createProduct: builder.mutation({\r\n            query: (product) => ({\r\n                url: '/api/products',\r\n                method: 'POST',\r\n                body: product,\r\n            }),\r\n            invalidatesTags: ['Product'],\r\n        }),\r\n        updateProduct: builder.mutation({\r\n            query: ({ id, ...product }) => ({\r\n                url: `/api/products/${id}`,\r\n                method: 'PUT',\r\n                body: product,\r\n            }),\r\n            invalidatesTags: (result, error, { id }) => [{ type: 'Product', id }],\r\n        }),\r\n        deleteProduct: builder.mutation({\r\n            query: (id) => ({\r\n                url: `/api/products/${id}`,\r\n                method: 'DELETE',\r\n            }),\r\n            invalidatesTags: ['Product'],\r\n        }),\r\n        createReview: builder.mutation({\r\n            query: ({ productId, rating, comment }) => ({\r\n                url: `/api/products/${productId}/reviews`,\r\n                method: 'POST',\r\n                body: { rating, comment },\r\n            }),\r\n            invalidatesTags: (result, error, { productId }) => [{ type: 'Product', id: productId }],\r\n        }),\r\n        getTopProducts: builder.query({\r\n            query: () => '/api/products/top',\r\n            providesTags: ['Product'],\r\n            keepUnusedDataFor: 5,\r\n        }),\r\n    }),\r\n});\r\n\r\nexport const {\r\n    useGetProductsQuery,\r\n    useGetProductDetailsQuery,\r\n    useCreateProductMutation,\r\n    useUpdateProductMutation,\r\n    useDeleteProductMutation,\r\n    useCreateReviewMutation,\r\n    useGetTopProductsQuery,\r\n} = productsApiSlice;\r\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,YAAY;AAErC,OAAO,MAAMC,gBAAgB,GAAGD,QAAQ,CAACE,eAAe,CAAC;EACrDC,SAAS,EAAGC,OAAO,KAAM;IACrBC,WAAW,EAAED,OAAO,CAACE,KAAK,CAAC;MACvBA,KAAK,EAAEA,CAAC;QAAEC,OAAO,GAAG,EAAE;QAAEC,IAAI,GAAG;MAAE,CAAC,MAAM;QACpCC,GAAG,EAAE,eAAe;QACpBC,MAAM,EAAE;UAAEH,OAAO;UAAEC;QAAK;MAC5B,CAAC,CAAC;MACFG,YAAY,EAAE,CAAC,SAAS,CAAC;MACzBC,iBAAiB,EAAE;IACvB,CAAC,CAAC;IACFC,iBAAiB,EAAET,OAAO,CAACE,KAAK,CAAC;MAC7BA,KAAK,EAAGQ,SAAS,IAAK,iBAAiBA,SAAS,EAAE;MAClDH,YAAY,EAAEA,CAACI,MAAM,EAAEC,KAAK,EAAEF,SAAS,KAAK,CAAC;QAAEG,IAAI,EAAE,SAAS;QAAEC,EAAE,EAAEJ;MAAU,CAAC;IACnF,CAAC,CAAC;IACFK,aAAa,EAAEf,OAAO,CAACgB,QAAQ,CAAC;MAC5Bd,KAAK,EAAGe,OAAO,KAAM;QACjBZ,GAAG,EAAE,eAAe;QACpBa,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEF;MACV,CAAC,CAAC;MACFG,eAAe,EAAE,CAAC,SAAS;IAC/B,CAAC,CAAC;IACFC,aAAa,EAAErB,OAAO,CAACgB,QAAQ,CAAC;MAC5Bd,KAAK,EAAEA,CAAC;QAAEY,EAAE;QAAE,GAAGG;MAAQ,CAAC,MAAM;QAC5BZ,GAAG,EAAE,iBAAiBS,EAAE,EAAE;QAC1BI,MAAM,EAAE,KAAK;QACbC,IAAI,EAAEF;MACV,CAAC,CAAC;MACFG,eAAe,EAAEA,CAACT,MAAM,EAAEC,KAAK,EAAE;QAAEE;MAAG,CAAC,KAAK,CAAC;QAAED,IAAI,EAAE,SAAS;QAAEC;MAAG,CAAC;IACxE,CAAC,CAAC;IACFQ,aAAa,EAAEtB,OAAO,CAACgB,QAAQ,CAAC;MAC5Bd,KAAK,EAAGY,EAAE,KAAM;QACZT,GAAG,EAAE,iBAAiBS,EAAE,EAAE;QAC1BI,MAAM,EAAE;MACZ,CAAC,CAAC;MACFE,eAAe,EAAE,CAAC,SAAS;IAC/B,CAAC,CAAC;IACFG,YAAY,EAAEvB,OAAO,CAACgB,QAAQ,CAAC;MAC3Bd,KAAK,EAAEA,CAAC;QAAEQ,SAAS;QAAEc,MAAM;QAAEC;MAAQ,CAAC,MAAM;QACxCpB,GAAG,EAAE,iBAAiBK,SAAS,UAAU;QACzCQ,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE;UAAEK,MAAM;UAAEC;QAAQ;MAC5B,CAAC,CAAC;MACFL,eAAe,EAAEA,CAACT,MAAM,EAAEC,KAAK,EAAE;QAAEF;MAAU,CAAC,KAAK,CAAC;QAAEG,IAAI,EAAE,SAAS;QAAEC,EAAE,EAAEJ;MAAU,CAAC;IAC1F,CAAC,CAAC;IACFgB,cAAc,EAAE1B,OAAO,CAACE,KAAK,CAAC;MAC1BA,KAAK,EAAEA,CAAA,KAAM,mBAAmB;MAChCK,YAAY,EAAE,CAAC,SAAS,CAAC;MACzBC,iBAAiB,EAAE;IACvB,CAAC;EACL,CAAC;AACL,CAAC,CAAC;AAEF,OAAO,MAAM;EACTmB,mBAAmB;EACnBC,yBAAyB;EACzBC,wBAAwB;EACxBC,wBAAwB;EACxBC,wBAAwB;EACxBC,uBAAuB;EACvBC;AACJ,CAAC,GAAGpC,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}