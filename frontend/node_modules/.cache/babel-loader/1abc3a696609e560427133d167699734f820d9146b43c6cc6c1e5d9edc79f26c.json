{"ast":null,"code":"var _jsxFileName = \"F:\\\\E-COMMERCE\\\\frontend\\\\src\\\\components\\\\ChatButton.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport api from '../api/api';\nimport './ChatButton.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatButton = () => {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const handleSend = async e => {\n    e.preventDefault();\n    if (!input.trim() || loading) return;\n    const userMessage = input.trim();\n    setInput('');\n    setMessages([...messages, {\n      role: 'user',\n      content: userMessage\n    }]);\n    setLoading(true);\n    try {\n      const response = await api.post('/chat', {\n        message: userMessage\n      });\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: response.data.data.aiResponse\n      }]);\n    } catch (error) {\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: 'Sorry, something went wrong. Please try again.'\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: `chat-toggle ${isOpen ? 'open' : ''}`,\n      onClick: () => setIsOpen(!isOpen),\n      children: \"\\uD83D\\uDCAC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-window\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"AI Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsOpen(false),\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-messages\",\n        children: [messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"welcome-message\",\n          children: \"\\uD83D\\uDC4B Hi! Ask me about products, stock, or prices!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 29\n        }, this), messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `message ${msg.role}`,\n          children: msg.content\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 29\n        }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message assistant typing\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"chat-input\",\n        onSubmit: handleSend,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: input,\n          onChange: e => setInput(e.target.value),\n          placeholder: \"Ask about products...\",\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading || !input.trim(),\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n_s(ChatButton, \"4DoytP21Jr486Y4VjG3vlt1O2gM=\");\n_c = ChatButton;\nexport default ChatButton;\nvar _c;\n$RefreshReg$(_c, \"ChatButton\");","map":{"version":3,"names":["React","useState","api","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatButton","_s","isOpen","setIsOpen","messages","setMessages","input","setInput","loading","setLoading","handleSend","e","preventDefault","trim","userMessage","role","content","response","post","message","prev","data","aiResponse","error","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","length","map","msg","index","onSubmit","type","value","onChange","target","placeholder","disabled","_c","$RefreshReg$"],"sources":["F:/E-COMMERCE/frontend/src/components/ChatButton.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport api from '../api/api';\r\nimport './ChatButton.css';\r\n\r\nconst ChatButton = () => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [messages, setMessages] = useState([]);\r\n    const [input, setInput] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSend = async (e) => {\r\n        e.preventDefault();\r\n        if (!input.trim() || loading) return;\r\n\r\n        const userMessage = input.trim();\r\n        setInput('');\r\n        setMessages([...messages, { role: 'user', content: userMessage }]);\r\n        setLoading(true);\r\n\r\n        try {\r\n            const response = await api.post('/chat', { message: userMessage });\r\n            setMessages(prev => [\r\n                ...prev,\r\n                { role: 'assistant', content: response.data.data.aiResponse }\r\n            ]);\r\n        } catch (error) {\r\n            setMessages(prev => [\r\n                ...prev,\r\n                { role: 'assistant', content: 'Sorry, something went wrong. Please try again.' }\r\n            ]);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <button\r\n                className={`chat-toggle ${isOpen ? 'open' : ''}`}\r\n                onClick={() => setIsOpen(!isOpen)}\r\n            >\r\n                ðŸ’¬\r\n            </button>\r\n\r\n            {isOpen && (\r\n                <div className=\"chat-window\">\r\n                    <div className=\"chat-header\">\r\n                        <h4>AI Assistant</h4>\r\n                        <button onClick={() => setIsOpen(false)}>âœ•</button>\r\n                    </div>\r\n\r\n                    <div className=\"chat-messages\">\r\n                        {messages.length === 0 && (\r\n                            <div className=\"welcome-message\">\r\n                                ðŸ‘‹ Hi! Ask me about products, stock, or prices!\r\n                            </div>\r\n                        )}\r\n                        {messages.map((msg, index) => (\r\n                            <div key={index} className={`message ${msg.role}`}>\r\n                                {msg.content}\r\n                            </div>\r\n                        ))}\r\n                        {loading && (\r\n                            <div className=\"message assistant typing\">\r\n                                <span className=\"dot\"></span>\r\n                                <span className=\"dot\"></span>\r\n                                <span className=\"dot\"></span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <form className=\"chat-input\" onSubmit={handleSend}>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={input}\r\n                            onChange={(e) => setInput(e.target.value)}\r\n                            placeholder=\"Ask about products...\"\r\n                            disabled={loading}\r\n                        />\r\n                        <button type=\"submit\" disabled={loading || !input.trim()}>\r\n                            Send\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ChatButton;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}